## 房利美（Freddie Mac）单户贷款数据集列名和说明

**index**
分配给每笔贷款的唯一标识符。

**target**表示贷款表现结果的二分类标签（本项目设置）：

- `0` = 正常贷款（无违约）。
- `1` = 异常贷款（违约或异常事件）。

---

### 原始变量（Origination Variables）

- **CreditScore**贷款发放时的借款人信用分数（300-850）。超出范围或缺失的值编码为 `9999`。
- **FirstPaymentDate**首次计划还款日期（YYYYMM格式）。

  - 转换为 pd.datetime
- **FirstTimeHomebuyerFlag**`Y` = 是，`N` = 否，`9` = 不可用。

  - 独热编码
  - 映射：`FirstTimeHomebuyerFlag` -> `FirstTimeHomebuyerFlag_N`, `FirstTimeHomebuyerFlag_Y`
- **MaturityDate**计划到期日期（YYYYMM格式）。

  - 转换为 pd.datetime
- **MSA**大都市统计区代码（未知时为null）。
- **MI_Pct**抵押保险百分比。`0` = 无，`1–55` = 覆盖率%，`999` = 不可用。
- **NumberOfUnits**住宅单元数（1-4）。
- **OccupancyStatus**`P` = 主要居住，`I` = 投资，`S` = 第二套住房，`9` = 不可用。

  - 独热编码
  - 映射：`OccupancyStatus` -> `OccupancyStatus_I`, `OccupancyStatus_P`, `OccupancyStatus_S`
- **OriginalCLTV**贷款发放时的合并贷款价值比（Combined Loan-to-Value ratio）。
- **OriginalDTI**债务收入比（%）。大于65%或缺失的值编码为 `999`。
- **OriginalUPB**原始未偿本金余额（最接近的$1,000）。
- **OriginalLTV**贷款发放时的贷款价值比（Loan-to-Value ratio）；无效值编码为 `999`。
- **OriginalInterestRate**贷款发放时的票据利率。
- **Channel**贷款渠道：`R` = 零售，`B` = 经纪人，`C` = 代理，`T` = 第三方机构未指定，`9` = 不可用。

  - 独热编码
  - 映射：`Channel` -> `Channel_B`, `Channel_C`, `Channel_R`
- **PPM_Flag**提前还款罚金：`Y` = 是，`N` = 否。

  - 独热编码
  - 映射：`PPM_Flag` -> `PPM_Flag_N`
- **ProductType**`FRM` = 固定利率，`ARM` = 可调利率。

  - 独热编码
  - 映射：`ProductType` -> `ProductType_FRM`
- **PropertyState**两字母州/地区代码。
- **PropertyType**`SF` = 单户，`CO` = 共管公寓，`PU` = 规划单元开发，`MH` = 预制房屋，`CP` = 合作社，`99` = 不可用。

  - 独热编码
  - 映射：`PropertyType` -> `PropertyType_CO`, `PropertyType_CP`, `PropertyType_MH`, `PropertyType_PU`, `PropertyType_SF`
- **PostalCode**掩码邮政编码（前3位数字 + "00"）。
- **LoanPurpose**`P` = 购买，`C` = 再融资现金提取，`N` = 再融资无现金提取，`R` = 再融资未指定，`9` = 不可用。

  - 独热编码
  - 映射：`LoanPurpose` -> `LoanPurpose_C`, `LoanPurpose_N`, `LoanPurpose_P`
- **OriginalLoanTerm**计划期限（月）。
- **NumberOfBorrowers**借款人数量（1-10）。
- **SellerName**出售贷款的实体（低于披露阈值时为"其他卖方"）。
- **ServicerName**服务贷款的实体（低于披露阈值时为"其他服务商"）。
- **SuperConformingFlag**指示贷款是否超过合格贷款限额但符合"超级合格"条件。

  - 独热编码
  - 映射：`SuperConformingFlag` -> `SuperConformingFlag_Y`
- **PreHARP_Flag / ProgramIndicator / ReliefRefinanceIndicator**HARP及相关再融资计划的指示器。

  - 删除 PreHARP_Flag（缺失率100%）
  - 删除 ReliefRefinanceIndicator（缺失率100%）
  - ProgramIndicator: 独热编码
  - 映射：`ProgramIndicator` -> `ProgramIndicator_9`, `ProgramIndicator_F`, `ProgramIndicator_H`
- **PropertyValMethod**评估方法：`1` = ACE，`2` = 完整评估，`3` = 其他（桌面评估/自动估值模型），`4` = ACE + PDR。
- **InterestOnlyFlag**`Y` = 需要仅付利息，否则为 `N`。

  - 独热编码
  - 映射：`InterestOnlyFlag` -> `InterestOnlyFlag_N`
- **BalloonIndicator**`Y` = 气球贷款，否则为 `N`。

  - 独热编码
  - 映射：`BalloonIndicator` -> `BalloonIndicator_7`, `BalloonIndicator_N`, `BalloonIndicator_Y`

---

### 表现面板变量（Performance Panel Variables）

对于每笔贷款，提供了跨多个时期的月度表现数据。前缀 **N_** 表示月份索引，其中 `N = 0, 1, 2, …`。每个面板包含以下重复字段：

- **N_CurrentActualUPB**当前未偿本金余额（UPB），包括计息和非计息部分。
- **N_CurrentInterestRate**该期间有效的抵押贷款利率。
- **N_CurrentNonInterestBearingUPB**UPB的非计息部分（例如，延期修改金额）。
- **N_EstimatedLTV**来自房利美自动估值模型（AVM）的当前估计贷款价值比（ELTV）。范围：1-998，`999` = 未知。
- **N_InterestBearingUPB**产生利息的UPB部分。
- **N_LoanAge**自贷款首次还款日期（或修改日期）起的月数。
- **N_MonthlyReportingPeriod**期间标识符（YYYYMM格式）。

  - 转换为 pd.datetime
- **N_RemainingMonthsToLegalMaturity**
  距离计划到期的剩余月数（如果修改过则调整）。

---

### 备注

- 原始变量提供静态背景信息（借款人信用、贷款条款、房产信息）。
- 表现面板使这成为一个纵向数据集：每笔贷款每月被跟踪，直到还清、到期或违约。
- 更多详细信息，请参阅房利美官方用户指南。
